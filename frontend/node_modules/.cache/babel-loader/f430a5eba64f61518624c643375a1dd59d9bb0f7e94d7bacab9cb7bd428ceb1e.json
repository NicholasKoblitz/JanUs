{"ast":null,"code":"import _objectSpread from\"/home/n/repos/JanUs/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState}from\"react\";import{useNavigate}from\"react-router-dom\";import{Janus}from'../api';import'../styles/AddCourseForm.css';import Navbar from\"./Navbar\";import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const AddCourseForm=()=>{const INIT_STATE={courseId:\"\",name:\"\"};const[formData,setFormData]=useState(INIT_STATE);const navigate=useNavigate();if(!localStorage.getItem(\"isTeacher\"))navigate(\"/\");const addCourse=async()=>{let token=localStorage.getItem(\"token\");let username=localStorage.getItem(\"currentUser\");let res=await Janus.createCourse(formData,token);let courseId=res.courseId;await Janus.assign({username,courseId},token);navigate(\"/users/\".concat(username));};const handleChange=e=>{const{name,value}=e.target;setFormData(formData=>_objectSpread(_objectSpread({},formData),{},{[name]:value}));};const handleSubmit=async e=>{e.preventDefault();await addCourse();setFormData(INIT_STATE);};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Navbar,{}),/*#__PURE__*/_jsx(\"div\",{className:\"AddCourseForm\",children:/*#__PURE__*/_jsxs(\"form\",{className:\"AddCourseForm-form\",onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"courseId\",id:\"id\",children:\"Course ID\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"courseId\",value:formData.courseId,onChange:handleChange}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"name\",children:\"Course Name\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"name\",value:formData.name,onChange:handleChange}),/*#__PURE__*/_jsx(\"button\",{children:\"Add\"})]})})]});};export default AddCourseForm;","map":{"version":3,"names":["React","useState","useNavigate","Janus","Navbar","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","AddCourseForm","INIT_STATE","courseId","name","formData","setFormData","navigate","localStorage","getItem","addCourse","token","username","res","createCourse","assign","concat","handleChange","e","value","target","_objectSpread","handleSubmit","preventDefault","children","className","onSubmit","htmlFor","id","type","onChange"],"sources":["/home/n/repos/JanUs/frontend/src/components/AddCourseForm.js"],"sourcesContent":["import React, {useState} from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport {Janus} from '../api'\nimport '../styles/AddCourseForm.css'\nimport Navbar from \"./Navbar\";\n\nconst AddCourseForm = () => {\n\n    \n\n    const INIT_STATE = {\n        courseId: \"\",\n        name: \"\"\n    }\n\n    const [formData, setFormData] = useState(INIT_STATE);\n    const navigate = useNavigate();\n\n    if(!localStorage.getItem(\"isTeacher\")) navigate(\"/\")\n\n    const addCourse = async () => {\n        let token = localStorage.getItem(\"token\");\n        let username = localStorage.getItem(\"currentUser\");\n        let res = await Janus.createCourse(formData, token);\n        let courseId = res.courseId;\n        await Janus.assign({username, courseId}, token)\n        \n        navigate(`/users/${username}`)\n    }\n\n    const handleChange = (e) => {\n        const {name, value} = e.target;\n        setFormData(formData => ({\n            ...formData,\n            [name]: value\n        }))\n    }\n\n    const handleSubmit = async (e) => {\n        e.preventDefault();\n        await addCourse();\n        setFormData(INIT_STATE);\n    }\n\n    return (\n        <>\n        <Navbar/>\n            <div className=\"AddCourseForm\">\n            <form className=\"AddCourseForm-form\" onSubmit={handleSubmit}>\n                <label htmlFor=\"courseId\" id=\"id\">Course ID</label>\n                <input\n                    type=\"text\"\n                    name=\"courseId\"\n                    value={formData.courseId}\n                    onChange={handleChange}\n                />\n                <label htmlFor=\"name\">Course Name</label>\n                <input\n                    type=\"text\"\n                    name=\"name\"\n                    value={formData.name}\n                    onChange={handleChange}\n                />\n                <button>Add</button>\n            </form>\n        </div>\n        </>\n        \n    )\n}\n\nexport default AddCourseForm;"],"mappings":"wGAAA,MAAO,CAAAA,KAAK,EAAGC,QAAQ,KAAO,OAAO,CACrC,OAASC,WAAW,KAAQ,kBAAkB,CAC9C,OAAQC,KAAK,KAAO,QAAQ,CAC5B,MAAO,6BAA6B,CACpC,MAAO,CAAAC,MAAM,KAAM,UAAU,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,CAAAC,QAAA,IAAAC,SAAA,yBAE9B,KAAM,CAAAC,aAAa,CAAGA,CAAA,GAAM,CAIxB,KAAM,CAAAC,UAAU,CAAG,CACfC,QAAQ,CAAE,EAAE,CACZC,IAAI,CAAE,EACV,CAAC,CAED,KAAM,CAACC,QAAQ,CAAEC,WAAW,CAAC,CAAGf,QAAQ,CAACW,UAAU,CAAC,CACpD,KAAM,CAAAK,QAAQ,CAAGf,WAAW,CAAC,CAAC,CAE9B,GAAG,CAACgB,YAAY,CAACC,OAAO,CAAC,WAAW,CAAC,CAAEF,QAAQ,CAAC,GAAG,CAAC,CAEpD,KAAM,CAAAG,SAAS,CAAG,KAAAA,CAAA,GAAY,CAC1B,GAAI,CAAAC,KAAK,CAAGH,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC,CACzC,GAAI,CAAAG,QAAQ,CAAGJ,YAAY,CAACC,OAAO,CAAC,aAAa,CAAC,CAClD,GAAI,CAAAI,GAAG,CAAG,KAAM,CAAApB,KAAK,CAACqB,YAAY,CAACT,QAAQ,CAAEM,KAAK,CAAC,CACnD,GAAI,CAAAR,QAAQ,CAAGU,GAAG,CAACV,QAAQ,CAC3B,KAAM,CAAAV,KAAK,CAACsB,MAAM,CAAC,CAACH,QAAQ,CAAET,QAAQ,CAAC,CAAEQ,KAAK,CAAC,CAE/CJ,QAAQ,WAAAS,MAAA,CAAWJ,QAAQ,CAAE,CAAC,CAClC,CAAC,CAED,KAAM,CAAAK,YAAY,CAAIC,CAAC,EAAK,CACxB,KAAM,CAACd,IAAI,CAAEe,KAAK,CAAC,CAAGD,CAAC,CAACE,MAAM,CAC9Bd,WAAW,CAACD,QAAQ,EAAAgB,aAAA,CAAAA,aAAA,IACbhB,QAAQ,MACX,CAACD,IAAI,EAAGe,KAAK,EACf,CAAC,CACP,CAAC,CAED,KAAM,CAAAG,YAAY,CAAG,KAAO,CAAAJ,CAAC,EAAK,CAC9BA,CAAC,CAACK,cAAc,CAAC,CAAC,CAClB,KAAM,CAAAb,SAAS,CAAC,CAAC,CACjBJ,WAAW,CAACJ,UAAU,CAAC,CAC3B,CAAC,CAED,mBACIJ,KAAA,CAAAE,SAAA,EAAAwB,QAAA,eACA5B,IAAA,CAACF,MAAM,GAAC,CAAC,cACLE,IAAA,QAAK6B,SAAS,CAAC,eAAe,CAAAD,QAAA,cAC9B1B,KAAA,SAAM2B,SAAS,CAAC,oBAAoB,CAACC,QAAQ,CAAEJ,YAAa,CAAAE,QAAA,eACxD5B,IAAA,UAAO+B,OAAO,CAAC,UAAU,CAACC,EAAE,CAAC,IAAI,CAAAJ,QAAA,CAAC,WAAS,CAAO,CAAC,cACnD5B,IAAA,UACIiC,IAAI,CAAC,MAAM,CACXzB,IAAI,CAAC,UAAU,CACfe,KAAK,CAAEd,QAAQ,CAACF,QAAS,CACzB2B,QAAQ,CAAEb,YAAa,CAC1B,CAAC,cACFrB,IAAA,UAAO+B,OAAO,CAAC,MAAM,CAAAH,QAAA,CAAC,aAAW,CAAO,CAAC,cACzC5B,IAAA,UACIiC,IAAI,CAAC,MAAM,CACXzB,IAAI,CAAC,MAAM,CACXe,KAAK,CAAEd,QAAQ,CAACD,IAAK,CACrB0B,QAAQ,CAAEb,YAAa,CAC1B,CAAC,cACFrB,IAAA,WAAA4B,QAAA,CAAQ,KAAG,CAAQ,CAAC,EAClB,CAAC,CACN,CAAC,EACJ,CAAC,CAGX,CAAC,CAED,cAAe,CAAAvB,aAAa","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}